# 空调管理系统用户需求说明书

<blockquote>2015211306班...组</blockquote>
<blockquote>胡晓妍 迟婧文 魏晓</blockquote>
<blockquote>2018.**.**</blockquote>

* (目录日后再说)

> **文档迭代记录**

> 迭代时间 | 迭代内容 | 迭代者 | 版本
> ------------ | ------------ | ------------ | ------------ 
> 2018.03.18 | 创建文档,编写框架 | WeiXiao | V0.1


## 文档介绍
------

### 文档目的
* 规划分析用户需求,建立具体的开发目标, 描绘产品具有的笼统功能,提供给软件开发者随时查看具体的开发规范,开发流程.

* 实现分布式温控系统用例建模,通过提供的需求分析来准确地描述用户需求中的功能要求，形成功能规格说明，为以后的实际编程和具体分析提供方向支持和基本框架的搭建。
* 用例模型主要包括用例文本描述以及用例图，用于对系统的功能以及与系统进行交互的外部事物（参与者）建模。通过找出与系统交互的外部事物，说明它们如何与系统交互，更易于对系统行为进行探讨和理解。
* 首先构建出几个主要参与角色之间的功能关系和可能进行的操作，通过UML图来体现。在搭建起来的UML图的基础上，再逐一对各个用例进行具体分析，分解出每一个用例的细节动作步骤。


### 文档内容
* 客户需求(需求方视角),系统分析空调系统应该实现的各种功能,功能和功能之间的逻辑联系

* 对分布式温控系统的中央空调系统、从控机系统的用例图以及文本描述，其中包含了三个主要参与者：中央空调系统，从控机系统和操作员。
* 首先通过用例图构建出所有可能用例与各个参与者之间的框架结构关系，然后通过文本的方式对每个用例进行详细描述和分析。

### 读者对象
* 软件开发者
* 甲方
* 测试,运维人员

### 参考文献
* 《美的空调说明书》
* 《中央空调原理》
* 《软件工程》 编著:肖丁等

## 产品介绍

--- ---

### 产品开发背景
* **空调系统由中央空调和从控机两部分构成**

* 中央空调是冷暖两用，根据季节进行工作模式调整
    * 当设置为供暖时，供暖温度控制在25°C～30°C之间
    * 当设置为制冷时，制冷温度控制在18°C～25°C之间
* 中央空调具备开关按钮，只可人工开启和关闭，中央空调正常开启后处于待机状态。
    * 中央空调开机后，默认处于制冷模式，缺省工作温度为22°C，当切换到供暖模式时，缺省工作温度为28°C
    * 当关闭后，不响应来自房间的任何温控请求
* 当有来自从控机的温控要求时，中央空调从待机状态恢复开始工作
* 当所有房间都没有温控要求时，中央空调的状态回到待机状态
* 房间内有独立的从控空调机，但没有冷暖控制设备。
    * 从控机具有一个温度传感器，实时监测房间的温度，并与从控机的目标设置温度进行对比，并向中央空调机发出温度调节请求。
    * 如果从控机发出的请求和中央空调设置的冷暖控制状态发生矛盾时，以中央空调机的状态优先，否则中央空调机不予响应。
    * 从控机只能人工方式开闭，并通过控制面板设置目标温度，目标温度有上下限制。
    * 从控机开机后动态获取房间温度，并将温度显示在控制面板上；
    * 从控机开机后需要与中央空调进行连接认证，用户输入房间号+身份证号后，从控机从中央空调获取工作模式，并将工作模式和缺省工作温度显示在控制面板上；
* 控制面板的温度调节可以连续变化也可以断续变化：
    * 温度调节按钮连续两次或多次指令的时间间隔小于1s时，从控机只发送最后一次的指令参数；
    * 如果温度调节按钮连续两次的时间间隔大于1s时，从控机将发送两次指令参数；
    * 房间目标温度达到后，从控机自动停止工作，同时发送停止送风请求给中央空调。
    * 房间温度随着环境温度开始变化，当房间温度超过目标温度1 °C时，重新启动；
* 房间不考虑大小和管道的分布及大小问题，在达到目标温度后，房间温度每分钟上下变化X°C


### 产品的功能与作用
* 中央空调能够实时监测各房间的温度和状态，并要求实时刷新的频率能够进行配置；
    * 要求从控机的控制面板能够发送高、中、低风速的请求，要求各小组自定义高、中、低风情况下的温度变化值；比如以中风为基准，高速风的温度变化曲线可以提高25%，低速风的温度变化曲线可以降低25%。
    * 系统中央空调部分具备计费功能：可根据中央空调对从控机的请求时长及高中低风速的供风量进行费用计算；
    
* 每分钟中速风的能量消耗为一个标准功率消耗单位；
    * 低速风的每分钟功率消耗为0.8标准功率；
    * 高速风的每分钟功率消耗为1.3标准功率；
    * 并假设，每一个标准功率消耗的计费标准是5元。
* 中央空调实时计算每个房间所消耗的能量以及所需支付的金额，并将对应信息发送给每个从控机进行在线显示，以便客户可以实时查看用量和金额。
* 中央空调监控具备统计功能，可以根据需要给出日报表、周报表和月报表；报表内容如下：房间号、从控机开关机的次数、温控请求起止时间（列出所有记录）、温控请求的起止温度及风量大小（列出所有记录）、每次温控请求所需费用、每日（周、月）所需总费用。
* 中央空调同时只能处理三台从控机的请求，为此主机要有负载均衡的能力。如果有超过三台从控机请求，则需要对所有请求机器进行调度，调度算法可自行定义，如先来先到、高速风优先抢占、时间片轮询等。


## 用户群体

--- ---

### 客户
* 甲方,酒店管理人员

### 最终用户
* 旅客,空调管理员

## 产品规范

--- ---

* 《采暖通风与空气调节设计规范》
* 《中央空调设计参考规范与标准》
* 《旅馆建筑设计规范》

> 可以在附件中添加这些文档

## 产品需求

--- ---

### 中央空调机

#### 计费模块
* (图表)

功能|描述|备注
------|------|------
数据采集| 采集空调运行时间(起止),模式,风速,温度|统一转换成有效时间
数据保存| 把采集来的数据,保存在固定的数据库里|使用MySQL数据库
计费| 对数据相对应的费用计算出来,扣除客户相应的金额|随时扣,金额不得为负

#### 中央空调控制
* (图表)

功能|描述|备注
------|------|------
数据采集| 利用各个房间的传感器数据,同时监控中央空调运行状况|无
空调控制| 控制中央空调的运行状态,控制各个房间的空调运行状态|中央只有开关两种模式
房间控制| 根据目标温度的控制,控制房间是否属于监测范围|住人就开,否则关
异常监测| 随时监测中央空调机的运行状态,遇到欠费,温度异常,示警|包括欠费..
...|...|...

#### 日常管理
* (图表)

功能|描述|备注
------|------|------
中央空调管理| 利用各个房间的传感器数据,同时监控中央空调运行状况|无
空调机管理|进行监控|...
收益管理|计算收益,并进行清算|...
从控机管理|在有人的时候待机,温度不够开机|...
记录|记录主控机的日常|...


### 从控机

#### 计费模块
* (图表)

功能|描述|备注
------|------|------
费用| 计算出空调功能|无
支付|...|...
异常监测|...|...

#### 调节模块
> 功能概述

功能|描述|备注
------|------|------
状态描述| 各个控制器的状态|无
模式调节|...|...
风速调节|...|...
温度调节|...|...

### 用户终端

#### 显示模块
* (图表)

功能|描述|备注
------|------|------
状态显示| 计算出空调功能|无
支付|...|...
异常监测|...|...

#### 调节模块
> 发送信息到从控机

功能|描述|备注
------|------|------
状态描述| 各个控制器的状态|无
模式调节|...|...
风速调节|...|...
温度调节|...|...

##其他需求
...
* 建立用户友好,功能完善的用户界面,功能完善
* 实现可选择的控制算法
* 建立[虚拟/现实]时间机制




